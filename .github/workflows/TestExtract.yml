name: TestExtract

on:
  workflow_dispatch:

jobs:
  test:
    name: Build
    runs-on: ubuntu-latest
    steps:
      - name: "Checkout"
        uses: actions/checkout@v2

      - name: "Extract Cargo Package Version"
        id: cargo-version
        run: |
          CARGO_VERSION=$(grep -oP 'version\s*=\s*"\K[0-9]+\.[0-9]+\.[0-9]+' dygma-layer-switcher/Cargo.toml | head -n 1)
          export CARGO_VERSION
          echo $CARGO_VERSION
